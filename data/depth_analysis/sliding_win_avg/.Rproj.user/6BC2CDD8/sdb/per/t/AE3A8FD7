{
    "collab_server" : "",
    "contents" : "######################################################################################\n#                             Make tables of read data                               #      \n######################################################################################\n\n#pulls depth_txt files into table\nload_depth_to_table<-function(dir,chr){\n  files<-list.files(dir,full.names = TRUE)\n  table<-read.table(file=files[1],header=TRUE)\n  for (f in files){\n    if (f != files[1]){\n      table <- cbind(table,read.table(file=f,header=TRUE))\n    }\n  }\n  bp_pos=get_bp_pos_vector(table,chr)\n  table <- cbind(bp_pos,table)\n  return(table)\n}\n\n#gets the # of average reads (i.e., chr length/sliding win. interval size)\n#default sliding win. interval is 500\nget_avg_count_vec<-function(table){\n  len=length(table[[1]])\n  avg_vec=seq(1:len)\n  return(avg_vec)\n}\n\n#create vector of bp_pos for each avg read\nget_bp_pos_vector<-function(table,chr){\n  if (chr==\"XIX\"){\n    chr_size=20612724\n  }\n  if(chr==\"IX\"){\n    chr_size=20593793\n  }\n  if(chr==\"XXI\"){\n    chr_size=17357772\n  }\n  avg_vec=get_avg_count_vec(table)\n  bp_pos_vec=avg_vec*(chr_size/length(avg_vec))\n  \n}\n\n\n#####################################################################################\n#                                   Analysis                                        #\n#####################################################################################\n\n\n#kind of slow\nsecond_deriv<-function(table,col){\n  line<-loess(col ~ bp_pos, table)\n  deriv_2<-(diff(diff(line$fitted)))\n  return(deriv_2)\n}\n\nruff_plot<-function(table,depth){\n  library(ggplot2)\n  ggplot(table,aes(x=bp_pos,y=depth))+geom_point(size=0.3,alpha=0.5)+geom_smooth()+scale_y_continuous(limits=c(0,mean(depth+10)))\n}",
    "created" : 1471018421053.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "5|39|16|0|\n20|35|24|0|\n27|39|40|0|\n",
    "hash" : "2610044468",
    "id" : "AE3A8FD7",
    "lastKnownWriteTime" : 1471448459,
    "last_content_update" : 1471448459561,
    "path" : "~/Documents/White_lab/Stickleback_Genomes_Project/data/depth_analysis/sliding_win_avg/depth_functions.R",
    "project_path" : "depth_functions.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 2,
    "source_on_save" : true,
    "source_window" : "",
    "type" : "r_source"
}